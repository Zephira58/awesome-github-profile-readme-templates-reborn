name: Check Links and Markdown Format

# Controls when the workflow will run
on:
  push: # Triggers on pushes to the repository
  pull_request: # Triggers on pull requests (e.g., from forks)

jobs:
  lint-and-check:
    runs-on: ubuntu-latest
    steps:
      # 1. Checkout the repository code
      - name: Checkout code
        uses: actions/checkout@v4

      # 2. Run Markdown Linter (markdownlint)
      # Checks only files in the src/templates/ directory
      - name: Run Markdown Linter
        uses: DavidAnson/markdownlint-cli2-action@v15
        with:
          globs: |
            README.md
            CONTRIBUTING.md
            src/templates/**/*.md
            

      # 3. Run Link Checker (lychee)
      # Checks only files in the src/templates/ directory
      - name: Run Link Checker
        uses: lycheeverse/lychee-action@v1.9.0
        with:
          # Pass the path as a glob argument
          args: "src/templates/**/*.md"